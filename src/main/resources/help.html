<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Калкулации на работна заплата</title>
    <!-- Добавяме връзка към Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        h1 {
            color: #2c3e50;
        }
        .calculation-bubble {
            background-color: #ffffff;
            border-radius: 15px;
            padding: 20px;
            width: 100%;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            margin-bottom: 20px;
        }
        .calculation-bubble h2 {
            cursor: pointer;
            font-size: 1.2em;
            display: flex;
            align-items: center;
        }
        .calculation-bubble h2 i {
            margin-right: 10px;
            color: #3498db;
        }
        .hidden {
            display: none;
        }
        .show-details {
            color: #3498db;
            cursor: pointer;
            margin-top: 10px;
        }
        .formula {
            font-family: "Courier New", Courier, monospace;
            background-color: #f4f4f4;
            padding: 10px;
            border-left: 4px solid #3498db;
            margin: 10px 0;
        }
        .example {
            background-color: #eaf2f8;
            padding: 10px;
            border-left: 4px solid #2ecc71;
        }
    </style>
    <script>
        function toggleDetails(event) {
            const details = event.target.nextElementSibling;
            details.classList.toggle('hidden');
            event.target.innerText = details.classList.contains('hidden') ? 'Покажи повече' : 'Скрий';
        }
    </script>
</head>
<body>

<h1>Калкулации за работни заплати</h1>

<!-- Transport Bonus Calculation -->
<div class="calculation-bubble">
    <h2><i class="fas fa-bus"></i> Изчисляване на транспортен бонус</h2>
    <p>Транспортният бонус се изчислява въз основа на разстоянието между града на служителя и фирмата и броя на
        работните дни.</p>
    <span class="show-details" onclick="toggleDetails(event)">Покажи повече</span>
    <div class="details hidden">
        <p>Бонуса се изчислява само за работници живеещи извън град Враца.</p>
        <p>Формулата за изчисление е:</p>
        <div class="formula">(Разстояние × 2 - 30) × Отработени дни в месеца × 0.16 лв./км</div>
        <div class="example">
            <strong>Пример:</strong> Ако разстоянието е 50 км, служителят е работил 20 дни:<br>
            (50 × 2 - 30) × 18 × 0.16 = 201.6 лв.
        </div>
    </div>
</div>

<!-- Professional Experience Bonus Calculation -->
<div class="calculation-bubble">
    <h2><i class="fa-solid fa-person-digging"></i> Изчисляване на бонус за професионален опит</h2>
    <p>Бонусът за професионален опит се изчислява като процент от сбора на основната заплата и фиксирания бонус на
        служителя.</p>
    <span class="show-details" onclick="toggleDetails(event)">Покажи повече</span>
    <div class="details hidden">
        <p>Формулата е:</p>
        <div class="formula">(Основна заплата + Фиксиран бонус) × Процент за професионален опит / 100</div>
        <div class="example">
            <strong>Пример:</strong> Ако основната заплата е 1000 лв., фиксираният бонус е 200 лв., и процентът за
            професионален опит е 5%, бонусът е:<br>
            (1000 + 200) × 5 / 100 = 60 лв.
        </div>
    </div>
</div>

<!-- Base Salary Calculation -->
<div class="calculation-bubble">
    <h2><i class="fas fa-money-bill-wave"></i> Изчисляване на основна заплата</h2>
    <p>Основната заплата се изчислява като дневната ставка, умножена по броя на отработените дни.</p>
    <span class="show-details" onclick="toggleDetails(event)">Покажи повече</span>
    <div class="details hidden">
        <p>Формулата за изчисление е:</p>
        <div class="formula">Дневна ставка = Основна заплата / Брой работни дни</div>
        <div class="formula">Нова основна заплата = Дневна ставка × Отработени дни</div>
        <div class="example">
            <strong>Пример:</strong> Ако основната заплата е 1000 лв., месецът има 20 работни дни, а служителят е
            работил 18 дни:<br>
            1000 / 20 × 18 = 900 лв.
        </div>
    </div>
</div>

<!-- One-Time Bonus Calculation -->
<div class="calculation-bubble">
    <h2><i class="fas fa-gift"></i> Изчисляване на еднократен бонус</h2>
    <p>Еднократният бонус включва компенсации за извънреден труд през седмицата, уикенда и нощни смени.</p>
    <span class="show-details" onclick="toggleDetails(event)">Покажи повече</span>
    <div class="details hidden">
        <h3>Условия за извънреден труд</h3>
        <p>За извънреден труд се считат часовете от колоната Изв.Труд на справката от Чекин системата.</p>
        <p>Възможно е работник излязъл за 2 часа през работно време да реши да отработва тези 2 часа след редовното
            време. Тези 2 часа ще му бъдат калкулирани като извънреден труд</p>
        <p>Тази практика е по начало грешна. Добре е да се водят тези часове в отделен файл и когато се съберат 8 часа
            да се пуска 1 ден платен отпуск.</p>
        <p>В противен случай има риск от дублиране на изваждането на часовете отсъствие. Веднъж имаме системата която
            отчита по-малкото редовни часове, втори път имаме Слъжебните бележки при охраната</p>
        <p>Понеже данните от Чекин системата се обработват от приложението, няма как да разберете кои часове са
            "сторнирани" и кои не са.</p>
        <p>Базата на която изчисляваме извънредния труд е Основна заплата + Фиксиран бонус + Бонус за професионален
            опит</p>
        <p>Основа = 1000 + 200 + 60</p>
        <p>Основа / Брой работни дни в месеца / 8 работни часа</p>
        <p>1260 / 20 / 8 = 7,875 лв. за час.</p>
        <ul>
            <li>Извънреден труд през седмицата - Ставка 1.5</li>
            <li>Извънреден труд през уикенда - Ставка 1.75</li>
            <li>Нощен труд - Ставка 1.4</li>
        </ul>
        <h3>Изчисление на часовете за извънреден труд</h3>
        <p>Часовете за извънреден труд през седмицата се изчисляват за дни, в които са работени повече от 8 часа.
            Извънредният труд през уикенда се изчислява за всички отработени часове, тъй като уикендът е почивен ден по
            подразбиране.</p>
        <h3>Формули за изчисление на еднократния бонус</h3>
        <p><strong>Извънреден труд през седмицата:</strong></p>
        <div class="formula">Почасово възнаграждение × Брой извънредни часове × 1.5</div>
        <p><strong>Извънреден труд през уикенда:</strong></p>
        <div class="formula">Почасово възнаграждение × Брой извънредни часове през уикенда × 1.75</div>
        <p><strong>Нощен труд:</strong></p>
        <p>Броя нощни часове е равен на броя извънредни часове през седмицата.</p>
        <div class="formula">Нощен труд = Брой нощни часове × 1.4</div>
        <div class="example">
            <strong>Пример:</strong> Ако почасовото възнаграждение е 7,875 лв., служителят е работил 5 извънредни часа
            през
            седмицата, 3 часа през уикенда и 5 часа нощен труд:<br>
            Извънреден труд през седмицата: 7,875 × 5 × 1.5 = 59.06 лв.<br>
            Извънреден труд през уикенда: 7,875 × 3 × 1.75 = 41.34 лв.<br>
            Нощен труд: 7,875 × 5 × 1.4 = 55.12 лв.<br>
            Общият еднократен бонус е: 59.06 + 41.34 + 55.12 = 155.52 лв.
        </div>
        <p>ТРЗ: В ТРЗ в полето Други условия в Личното досие на всеки работник / служител се въвеждат следните букви на
            латиница имащи отношение към изчисляването на извънредния труд:</p>
        <ul>
            <li>" I " - Индиректно заети в производството, лица без право на извънреден и нощен труд, обикновено
                свързани с административна дейност. Всички останали са директно заети.
            </li>
            <li>" P " - Това са работниците в Редовна смяна и при пресмятането на техния извънреден труд не се добавя
                коефициента за нощен труд.
            </li>
            <li>" C " - Това са индиректно заети в производството служители на които се начислява и нощен труд (такива
                на практика няма, но е просто вариант и за това е разработен).
            </li>
            <li>" " - Служителите без никаква буква в това поле са директно заети в производството и им се начислява и
                сума за нощен труд тъй като извънредните часове които отработват попадат в тази категория.
            </li>
            <li>" M " - Буква “M” може да я срещнем като самостоятелен символ в клетка или като комбинация с другите
                символи, което пък означава, че служителят е назначен на минимална работна заплата като основно
                възнаграждение, но е договорена друга, по-висока нетна сума, остатъка от тази договорена нетна сума се
                съдържа в полето "Място на раждане"
                , като там тя е Брутна за да се получи нужната сума когато всичко се обложи с данък. В последствие
                получената сума от нашата справка в полето Fixed Bonus се разнася в полето Постоянен бонус в ТРЗ.
            </li>
        </ul>
    </div>
</div>

<!-- Fixed Bonus Calculation -->
<div class="calculation-bubble">
    <h2><i class="fas fa-coins"></i> Изчисляване на фиксиран бонус</h2>
    <p>Фиксираният бонус се преизчислява въз основа на броя отработени дни спрямо общия брой работни дни за месеца.</p>
    <span class="show-details" onclick="toggleDetails(event)">Покажи повече</span>
    <div class="details hidden">
        <p>Формулата е:</p>
        <div class="formula">Дневен бонус = Фиксиран бонус / Общ брой работни дни</div>
        <div class="formula">Нов фиксиран бонус = Дневен бонус × Отработени дни</div>
        <div class="example">
            <strong>Пример:</strong> Ако фиксирания бонус е 200 лв., месецът има 20 работни дни, а служителят е
            работил 18 дни:<br>
            200 / 20 × 18 = 180 лв.
        </div>
    </div>
</div>

<!-- Achievement Bonus Calculation -->
<div class="calculation-bubble">
    <h2><i class="fas fa-trophy"></i> Изчисляване на бонус за постигнати резултати</h2>
    <p>Бонусът за постигнати резултати се базира на отсъствията на служителя и други условия, свързани с неговото
        представяне.</p>
    <span class="show-details" onclick="toggleDetails(event)">Покажи повече</span>
    <div class="details hidden">
        <p>Формулата е:</p>
        <div class="formula">Achievement Bonus = 154.64 лв. - partOfAchievementBonus (51.54 лв.)</div>
        <p>Ако служителят има 2 или повече дни отсъствия или други условия, бонусът може да бъде анулиран или
            намален.</p>
        <p>ТРЗ: В ТРЗ разнасяме всеки месец различни символи даващи представа за състоянието на бонуса</p>
        <ul>
            <li>" X " - Бонуса напълно отпада поради неспазване някое от условията за бонуса.</li>
            <li>" Y " - Отпада частично бонуса. Отбелязваме тази буква когато работника има по-малко от 2 дни отпуск без
                предизвестие.
            </li>
            <li>Болнични - болничните трябва да са разнесени в досието преди импортирането на ТРЗ справката в
                приложението.
            </li>
        </ul>
    </div>
</div>

<!-- Final Salary Calculation -->
<div class="calculation-bubble">
    <h2><i class="fas fa-calculator"></i> Изчисляване на крайна заплата</h2>
    <p>Крайната заплата се изчислява като сбор от основната заплата и всички бонуси на служителя.</p>
    <span class="show-details" onclick="toggleDetails(event)">Покажи повече</span>
    <div class="details hidden">
        <p>Формулата е:</p>
        <div class="formula">Крайна заплата = Основна заплата + Бонус за професионален опит + Еднократен бонус +
            Транспортен бонус + Фиксиран бонус + Бонус за постижения
        </div>
        <div class="example">
            <strong>Пример:</strong>
            Ако месеца има 20 работни дни, а служителят е
            работил 18 дни:<br>
            <ul>
                <li><i class="fas fa-money-bill-wave"></i> Основна заплата е 900 лв.,</li>
                <br>
                <li><i class="fa-solid fa-person-digging"></i> Бонус за професионален опит е 60 лв.,</li>
                <br>
                <li><i class="fas fa-gift"></i> Еднократен бонус е 155.52 лв.,</li>
                <br>
                <li><i class="fas fa-bus"></i> Транспортен бонус e 201.60 лв.,</li>
                <br>
                <li><i class="fas fa-coins"></i> Фиксиран бонус е 180 лв.,</li>
                <br>
                <li><i class="fas fa-trophy"></i> Бонус за постижения е 154.64 лв.</li>
                <br>
            </ul>
            <p>Брутна заплата = 900 + 60 + 155.52 + 201.60 + 180 + 154.64</p>
            <p>Брутна заплата = 1651.76 лв.</p>
        </div>
    </div>
</div>

<!-- Overtime Calculation Methodology -->
<div class="calculation-bubble">
    <h2><i class="fas fa-clock"></i> Методика за изчисляване на извънреден труд</h2>
    <p>Извънредният труд се изчислява на база време на влизане и излизане на служителя, като се проверяват условията за
        работни часове през седмицата и през събота.</p>
    <span class="show-details" onclick="toggleDetails(event)">Покажи повече</span>
    <div class="details hidden">
        <h3>Извънреден труд през събота</h3>
        <p>Ако служителят работи в събота, системата проверява разликата в минутите между началото и края на работния
            ден. Ако общото време надвишава 49 минути (0.82 часа), извънредните часове се закръгляват нагоре до максимум
            5 часа.</p>
        <p>Формулата за изчисление на извънреден труд през събота:</p>
        <div class="formula">
            Извънреден труд = Закръгляване(Мин(Общо редовни часове, 5.0))
        </div>
        <div class="example">
            <strong>Пример:</strong> Ако служителят е работил в събота и има редовни часове 4.5, извънредният труд ще
            бъде:<br>
            Закръгляване(4.5 = 4 часа и 30 минути) = 4 часа
        </div>

        <h3>Извънреден труд през седмицата</h3>
        <p>За работни дни през седмицата, ако служителят има повече от 8 часа общо работно време, извънредните часове се
            изчисляват като разликата между общите работни часове и минималните 8 часа. Ако извънредните часове
            надвишават 49 минути, те се закръгляват нагоре.</p>
        <p>Формулата за изчисление на извънреден труд през седмицата:</p>
        <div class="formula">
            Извънреден труд = Общо работни часове - 8 часа (ако общите часове > 8)
        </div>
        <div class="example">
            <strong>Пример:</strong> Ако служителят е работил 9.5 часа през деня, извънредният труд е:<br>
            9.5 - 8 = 1.5 часа извънреден труд (закръглява се на 1 час)
        </div>

        <h3>Проверка на валидността на данните</h3>
        <p>Преди да се изчислят извънредните часове, се проверява дали началното и крайното време на работния ден са
            коректно записани и дали разликата в минутите не надвишава 24 часа. Ако има грешка във времето на влизане
            или излизане, извънредният труд не се изчислява.</p>
    </div>
</div>

<!-- Exceptions -->
<div class="calculation-bubble">
    <h2><i class="fa-solid fa-exclamation"></i> Изключения и екзотични ситуации</h2>
    <span class="show-details" onclick="toggleDetails(event)">Покажи повече</span>
    <div class="details hidden">
        <h3>Повече от един код по НКПД за един и същ човек</h3>
        <p>Тогава във файла от ТРЗ се експортират 2 реда за този човек с две заплати. Заплатата е само една, но после се
            разбива по заеманите длъжности според броя дни през които е заемал длъжността.</p>
        <div class="formula">
            Брой дни под НКПД 1 = 5;<br>
            Брой дни под НКПД 2 = 15;<br>
            Дневна ставка = Заплата / 20 (работни дни)<br>
            Заплата по НКПД 1 = Дневна ставка * 5;<br>
            Заплата по НКПД 2 = (Дневна ставка * 15) + Останалите атрибути на работната заплата;<br>
        </div>
        <div class="example">
            <strong>Пример:</strong><br>
            Основна заплата = 1000 лв.<br>
            Фиксиран бонус = 200 лв.<br>
            Супа по НКПД 1 = 1200 / 20 * 5 = 300 лв.<br>
            Супа по НКПД 2 = 1200 / 20 * 15 = 900 лв  + останали атрибути.<br>
        </div>

    </div>
</div>

</body>
</html>